library(doSNOW)
cl <- makeCluster(2)
registerDoSNOW(cl)
iterations <- 100
pb <- txtProgressBar(max = iterations, style = 3)
progress <- function(n) setTxtProgressBar(pb, n)
opts <- list(progress = progress)
result <- foreach(i = 1:iterations, .combine = rbind,
                  .options.snow = opts) %dopar%
                  {
                    s <- summary(rnorm(1e6))[3]
                    return(s)
                  }
close(pb)
stopCluster(cl)




iterations <- 100
pb <- txtProgressBar(max = iterations, style = 3)
progress <- function(n) setTxtProgressBar(pb, n)
opts <- list(progress = progress)
result <- foreach(i = 1:iterations, .combine = rbind,
                  .options.snow = opts) %do%
    {
      setTxtProgressBar(pb, i)
                    s <- summary(rnorm(1e6))[3]
                    return(s)
                  }
close(pb)
